{"ast":null,"code":"var hat = module.exports = function (bits, base) {\n  if (!base) base = 16;\n  if (bits === undefined) bits = 128;\n  if (bits <= 0) return '0';\n  var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n  for (var i = 2; digits === Infinity; i *= 2) {\n    digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n  }\n  var rem = digits - Math.floor(digits);\n  var res = '';\n  for (var i = 0; i < Math.floor(digits); i++) {\n    var x = Math.floor(Math.random() * base).toString(base);\n    res = x + res;\n  }\n  if (rem) {\n    var b = Math.pow(base, rem);\n    var x = Math.floor(Math.random() * b).toString(base);\n    res = x + res;\n  }\n  var parsed = parseInt(res, base);\n  if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n    return hat(bits, base);\n  } else return res;\n};\nhat.rack = function (bits, base, expandBy) {\n  var fn = function (data) {\n    var iters = 0;\n    do {\n      if (iters++ > 10) {\n        if (expandBy) bits += expandBy;else throw new Error('too many ID collisions, use more bits');\n      }\n      var id = hat(bits, base);\n    } while (Object.hasOwnProperty.call(hats, id));\n    hats[id] = data;\n    return id;\n  };\n  var hats = fn.hats = {};\n  fn.get = function (id) {\n    return fn.hats[id];\n  };\n  fn.set = function (id, value) {\n    fn.hats[id] = value;\n    return fn;\n  };\n  fn.bits = bits || 128;\n  fn.base = base || 16;\n  return fn;\n};","map":{"version":3,"names":["hat","module","exports","bits","base","undefined","digits","Math","log","pow","i","Infinity","rem","floor","res","x","random","toString","b","parsed","parseInt","rack","expandBy","fn","data","iters","Error","id","Object","hasOwnProperty","call","hats","get","set","value"],"sources":["/home/xilxilx/projects/distsys/alias/frontend/node_modules/hat/index.js"],"sourcesContent":["var hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,MAAM,CAACC,OAAO,GAAG,UAAUC,IAAI,EAAEC,IAAI,EAAE;EAC7C,IAAI,CAACA,IAAI,EAAEA,IAAI,GAAG,EAAE;EACpB,IAAID,IAAI,KAAKE,SAAS,EAAEF,IAAI,GAAG,GAAG;EAClC,IAAIA,IAAI,IAAI,CAAC,EAAE,OAAO,GAAG;EAEzB,IAAIG,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEN,IAAI,CAAC,CAAC,GAAGI,IAAI,CAACC,GAAG,CAACJ,IAAI,CAAC;EACzD,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEJ,MAAM,KAAKK,QAAQ,EAAED,CAAC,IAAI,CAAC,EAAE;IACzCJ,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEN,IAAI,GAAGO,CAAC,CAAC,CAAC,GAAGH,IAAI,CAACC,GAAG,CAACJ,IAAI,CAAC,GAAGM,CAAC;EACjE;EAEA,IAAIE,GAAG,GAAGN,MAAM,GAAGC,IAAI,CAACM,KAAK,CAACP,MAAM,CAAC;EAErC,IAAIQ,GAAG,GAAG,EAAE;EAEZ,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,IAAI,CAACM,KAAK,CAACP,MAAM,CAAC,EAAEI,CAAC,EAAE,EAAE;IACzC,IAAIK,CAAC,GAAGR,IAAI,CAACM,KAAK,CAACN,IAAI,CAACS,MAAM,EAAE,GAAGZ,IAAI,CAAC,CAACa,QAAQ,CAACb,IAAI,CAAC;IACvDU,GAAG,GAAGC,CAAC,GAAGD,GAAG;EACjB;EAEA,IAAIF,GAAG,EAAE;IACL,IAAIM,CAAC,GAAGX,IAAI,CAACE,GAAG,CAACL,IAAI,EAAEQ,GAAG,CAAC;IAC3B,IAAIG,CAAC,GAAGR,IAAI,CAACM,KAAK,CAACN,IAAI,CAACS,MAAM,EAAE,GAAGE,CAAC,CAAC,CAACD,QAAQ,CAACb,IAAI,CAAC;IACpDU,GAAG,GAAGC,CAAC,GAAGD,GAAG;EACjB;EAEA,IAAIK,MAAM,GAAGC,QAAQ,CAACN,GAAG,EAAEV,IAAI,CAAC;EAChC,IAAIe,MAAM,KAAKR,QAAQ,IAAIQ,MAAM,IAAIZ,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEN,IAAI,CAAC,EAAE;IACpD,OAAOH,GAAG,CAACG,IAAI,EAAEC,IAAI,CAAC;EAC1B,CAAC,MACI,OAAOU,GAAG;AACnB,CAAC;AAEDd,GAAG,CAACqB,IAAI,GAAG,UAAUlB,IAAI,EAAEC,IAAI,EAAEkB,QAAQ,EAAE;EACvC,IAAIC,EAAE,GAAG,UAAUC,IAAI,EAAE;IACrB,IAAIC,KAAK,GAAG,CAAC;IACb,GAAG;MACC,IAAIA,KAAK,EAAG,GAAG,EAAE,EAAE;QACf,IAAIH,QAAQ,EAAEnB,IAAI,IAAImB,QAAQ,CAAC,KAC1B,MAAM,IAAII,KAAK,CAAC,uCAAuC,CAAC;MACjE;MAEA,IAAIC,EAAE,GAAG3B,GAAG,CAACG,IAAI,EAAEC,IAAI,CAAC;IAC5B,CAAC,QAAQwB,MAAM,CAACC,cAAc,CAACC,IAAI,CAACC,IAAI,EAAEJ,EAAE,CAAC;IAE7CI,IAAI,CAACJ,EAAE,CAAC,GAAGH,IAAI;IACf,OAAOG,EAAE;EACb,CAAC;EACD,IAAII,IAAI,GAAGR,EAAE,CAACQ,IAAI,GAAG,CAAC,CAAC;EAEvBR,EAAE,CAACS,GAAG,GAAG,UAAUL,EAAE,EAAE;IACnB,OAAOJ,EAAE,CAACQ,IAAI,CAACJ,EAAE,CAAC;EACtB,CAAC;EAEDJ,EAAE,CAACU,GAAG,GAAG,UAAUN,EAAE,EAAEO,KAAK,EAAE;IAC1BX,EAAE,CAACQ,IAAI,CAACJ,EAAE,CAAC,GAAGO,KAAK;IACnB,OAAOX,EAAE;EACb,CAAC;EAEDA,EAAE,CAACpB,IAAI,GAAGA,IAAI,IAAI,GAAG;EACrBoB,EAAE,CAACnB,IAAI,GAAGA,IAAI,IAAI,EAAE;EACpB,OAAOmB,EAAE;AACb,CAAC"},"metadata":{},"sourceType":"script"}